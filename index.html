<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task-3</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body class="container">
    <h1 class="text-center">Form Validation</h1>
    <form id="customForm" class="row g-3 needs-validation"  novalidate autocomplete="off" style=" background-color: antiquewhite; margin-top:20px; padding:20px; border:1px solid black; border-radius:10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);" >
      
      <!-- Name -->
      <div class="col-md-6">
        <label for="yourName" class="form-label">Your Name</label>
        <input type="text" class="form-control" id="yourName" name="yourName" required  placeholder="Enter your name">
        <div class="invalid-feedback" id="nameError"  class="text-danger";>Please enter your name </div>
      </div>


        <!-- Email -->
      <div class="col-md-6">
        <label for="email" class="form-label">Email</label>
        <input type="text" class="form-control" id="email" name="email" required placeholder="Enter your email">
        <div class="invalid-feedback" class="text-danger">Please enter a valid email</div>
      </div>

      <!-- password -->
      <div class="col-md-6">
        <label for="password" class="form-label">Password</label>
        <input type="password" class="form-control" id="password" name="password" required placeholder="Enter password">
        <div class="invalid-feedback" id="passwordError"  class="text-danger">Please enter your password</div>
      </div>
      <!-- re-password -->
      <div class="col-md-6">
        <label for="repassword" class="form-label">Re-enter Password</label>
        <input type="password" class="form-control" id="repassword" name="repassword" required placeholder="Re-enter password">
        <div class="invalid-feedback" id="repasswordError"  class="text-danger">Passwords do not match</div>
      </div>
      
      <!-- gender -->
      <div class="col-md-6 d-flex align-items-center">
        <label class="form-label me-3 mb-0">Gender</label>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="gender" id="male" value="male" required>
            <label class="form-check-label" for="male">Male</label>
          </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="gender" id="female" value="female" required>
          <label class="form-check-label" for="female">Female</label>
        </div>
        <div class="invalid-feedback" id="genderError"  class="text-danger">Please select your gender</div>
      </div>




      <!-- DOB -->
      <div class="col-md-6">
        <label for="dob" class="form-label">Date of Birth</label>
        <input type="date" class="form-control" id="dob" name="dob" required placeholder="mm/dd/yyyy">
        <div class="invalid-feedback"  class="text-danger">Please enter date in mm/dd/yyyy format</div>
      </div>



      <!-- Mobile -->
      <div class="col-md-6">
        <label for="mobile" class="form-label">Mobile</label>
        <input type="text" class="form-control" id="mobile" name="mobile" required  placeholder="Enter 10 digit mobile number">
        <div class="invalid-feedback"  class="text-danger">Please enter a valid 10 digit mobile number</div>
      </div>




      <!-- Address -->
      <div class="col-md-6">
        <label for="address" class="form-label">Address</label>
        <textarea class="form-control" id="address" name="address" rows="2" required placeholder="Enter your address"></textarea>
        <div class="invalid-feedback"  class="text-danger">Please enter your address</div>
      </div>



      <!-- City -->
      <div class="col-md-4">
        <label for="city" class="form-label">City</label>
        <select class="form-select" id="city" name="city" required>
          <option value="" selected disabled>Choose...</option>
          <option>Mandapeta</option>
          <option>kakinada</option>
          <option>Delhi</option>
          <option>Banglore</option>
          <option>Hyderabad</option>
        </select>
        <div class="invalid-feedback"  class="text-danger">Please select your city</div>
      </div>


      <!-- Country -->
      <div class="col-md-4">
        <label for="country" class="form-label">Country</label>
        <input type="text" class="form-control" id="country" name="country" required placeholder="Enter your country">
        <div class="invalid-feedback"  class="text-danger">Please enter your country</div>
      </div>



      <!-- Expertise -->
      <div class="col-md-4" text-dark>
        <label class="form-label">Expertise</label>
        <div class="border rounded p-2" style="max-height: 90px; overflow-y: auto;">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="expertise" id="html" value="Html">
            <label class="form-check-label" for="html">Html</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="expertise" id="css" value="Css">
            <label class="form-check-label" for="css">Css</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="expertise" id="js" value="Javascript">
            <label class="form-check-label" for="js">Javascript</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="expertise" id="react" value="React">
            <label class="form-check-label" for="react">React</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="expertise" id="angular" value="Angular">
            <label class="form-check-label" for="angular">Java</label>
          </div>
        </div>
        <div class="invalid-feedback " id="expertiseError"  class="text-danger">Please select at least one expertise</div>
      </div>



      <!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Validation</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       Form validated successfully!
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success "><a style="color: white; text-decoration:none;" href="Task3.html">Save changes</a></button>
      </div>
    </div>
  </div>
</div>


 
           <!-- Button -->
      <div class="col-12 d-grid justify-content-center">
        <button class="btn btn-dark "  type="submit">   Save    </button>
      </div>
    </form>



        <!-- script part starts here -->
    <script>

    document.getElementById('customForm').addEventListener('submit', function(event) {
      let form = this;
      let valid = true;

      
      // Name validation starts here
      let nameInput = form.yourName;
      let nameError = document.getElementById('nameError');
      if (!nameInput.value.trim()) {
        nameInput.classList.add('is-invalid');
        nameError.textContent = 'Please enter your name ';
        valid = false;
      } 
      else if(/\d/.test(nameInput.value)){
        nameInput.classList.add('is-invalid');
        nameError.textContent = 'Name should not contain numbers';
        valid = false;
      }
      else if(/[!@#$%^&*().]/.test(nameInput.value)){
        nameInput.classList.add('is-invalid');
        nameError.textContent = 'Name should not contain special characters';
        valid = false;
      }
      else if(nameInput.value.length < 3 ){
        nameInput.classList.add('is-invalid');
        nameError.textContent = 'Name must be at least 3 characters long';
        valid = false;
      }
      else if(nameInput.value.charAt(0) !== nameInput.value.charAt(0).toUpperCase()){
        nameInput.classList.add('is-invalid');
        nameError.textContent = 'Name must start with a capital letter';
        valid = false;
      }
      else {
        nameInput.classList.remove('is-invalid');
        nameInput.classList.add('is-valid');
        nameError.textContent = '';
      }
      // Name validation ends here



      // Email validation starts here
      let emailInput = form.email;
      let emailValue = emailInput.value.trim();
        let emailPattern = /^[^\s@]+@[a-zA-Z]+\.(com|in)$/;
        if (!emailPattern.test(emailValue)) {
          emailInput.classList.add('is-invalid');
          valid = false;
        } 
        else {
          emailInput.classList.remove('is-invalid');
          emailInput.classList.add('is-valid');
        }
      // Email validation ends here


          // Gender validation starts here
      let genderChecked = form.querySelector('input[name="gender"]:checked');
      let genderError = document.getElementById('genderError');
      if (!genderChecked) {
        genderError.style.display = 'block';
        valid = false;
      } else {
        genderError.style.display = 'none';
      }
        // Gender validation ends here

       

      // DOB validation starts here
      let dobInput = form.dob;
      let date =new Date(dobInput.value);
      // let today =new Date();
      let stdate = new Date("2007-01-01");
      let dobError = document.querySelector('#dob + .invalid-feedback');
      if(isNaN(date.getMonth())|| isNaN(date.getDate()) || isNaN(date.getFullYear())){
        dobInput.classList.add('is-invalid');
        dobError.textContent = 'Please enter a valid date';
        valid = false;
      }
      else if(date > stdate){
        dobInput.classList.add('is-invalid');
        dobError.textContent = 'You must be at least 18 years old';
        valid = false;

      }
       else {
        dobInput.classList.remove('is-invalid');
        dobInput.classList.add('is-valid');
        dobError.textContent = '';
      } 
      // DOB validation ends here


      // expertide validation starts here
      let expertiseChecked = form.querySelectorAll('input[name="expertise"]:checked');
      let expertiseError = document.getElementById('expertiseError');
      if (expertiseChecked.length === 0) {
        expertiseError.style.display = 'block';
        valid = false;
      } else {
        expertiseError.style.display = 'none';
      }
      // expertise validation ends here



      // Mobile validation starts here
      let mobileInput = form.mobile;
      let mobileError = document.querySelector('#mobile + .invalid-feedback');    
      let mobilePattern = /^[0-9]{10}$/;
      let firstDigitPattern = /^[6-9]/;
      if (!mobileInput.value.match(mobilePattern)) {
        mobileInput.classList.add('is-invalid');
        mobileError.textContent = 'Please enter a valid 10 digit mobile number';
        valid = false;
      }
      else if(mobileInput.value.length !== 10){
        mobileInput.classList.add('is-invalid');
        mobileError.textContent = 'Mobile number must be 10 digits long';
        valid = false;
      }
      else if(!firstDigitPattern.test(mobileInput.value)){
        mobileInput.classList.add('is-invalid');
        mobileError.textContent = 'invalid input';
        valid = false;
      }
      else {
        mobileInput.classList.remove('is-invalid');
        mobileInput.classList.add('is-valid');
        mobileError.textContent = '';
      }
      // Mobile validation ends here



      // Password validation starts here
      let passwordInput = form.password;
      let repasswordInput = form.repassword;
      let passwordError = document.getElementById('passwordError');
      let repasswordError = document.getElementById('repasswordError');
      if (!passwordInput.value) {
        passwordInput.classList.add('is-invalid');
        passwordError.textContent = 'Please enter your password';
        valid = false;
      }
      else if(passwordInput.value.length < 6 ){
        passwordInput.classList.add('is-invalid');
        passwordError.textContent = 'Password must be at least 6 characters long';
        valid = false;
      }
      else if(!/[A-Z]/.test(passwordInput.value)){
        passwordInput.classList.add('is-invalid');
        passwordError.textContent = 'Password must contain at least one uppercase letter';
        valid = false;
      }
      else if(!/[a-z]/.test(passwordInput.value)){
        passwordInput.classList.add('is-invalid');
        passwordError.textContent = 'Password must contain at least one lowercase letter';
        valid = false;
      }
      else if(!/[0-9]/.test(passwordInput.value)){
        passwordInput.classList.add('is-invalid');
        passwordError.textContent = 'Password must contain at least one digit';
        valid = false;
      }
      else if(!/[!@#$*]/.test(passwordInput.value)){
        passwordInput.classList.add('is-invalid');
        passwordError.textContent = 'Password must contain at least one special character';
        valid = false;
      } 
      
      else {
        passwordInput.classList.remove('is-invalid');
        passwordInput.classList.add('is-valid');
        passwordError.textContent = '';
      }
      if (!repasswordInput.value || repasswordInput.value !== passwordInput.value) {
        repasswordInput.classList.add('is-invalid');
        repasswordError.textContent = 'Passwords do not match';
        valid = false;
      } else {
        repasswordInput.classList.remove('is-invalid');
        repasswordInput.classList.add('is-valid');
        repasswordError.textContent = '';
      }
      // Password validation ends here


      
      if (!form.checkValidity()) {
        valid = false;
      }
      form.classList.add('was-validated');
      if (!valid) {
        event.preventDefault();
      } else {
        event.preventDefault();
        var modal = new bootstrap.Modal(document.getElementById('exampleModal'));
        modal.show();
      }
    });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>